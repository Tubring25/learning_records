# HTTP 报文

HTTP报文大致可分为**报文首部**和**报文主体**

请求报文和响应报文的首部内容由以下数据组成

- 请求行

    包含用于请求的方法，请求URI和HTTP版本。

- 状态行

    包含表明响应结果的状态码，原因短语和HTTP版本

- 首部字段

    包含表示请求和响应的各种条件和属性的各类首部。

    一般有4种首部，分别是：通用首部、请求首部、响应首部和实体首部。

- 其他

    可能包含HTTP的RFC里未定义的首部（Cookie等）

### 报文主体和实体主体

- 报文：

    是HTTP通信中的基本单位，由8位组字节流（octetsequence，其中octet为8个比特）组成，通过HTTP通信传输。

- 实体：

    作为请求或响应的有效载荷数据（补充项）被传输，其内容由实体首部和实体主体组成。

### 压缩传输的内容编码

常用的内容编码方式：

- gzip（GNU zip）
- compress（UNIX系统的标准压缩）
- deflate（zlib）
- identity（不进行编码）

### 分割发送的分块传输编码

在传输大量内容时，通常将传输的内容进行分割，使浏览器能够分块显示代码，这种传输方式为**分块传输编码（ChunkedTransfer Coding）**

### 多部分对象集合

指允许发送的报文主体拥有多种类型实体

多部分对象集合包含的对象：

- multipart/form-data
- multipart/byteranges

### 获取部分内容的范围请求

首部字段Range来指定资源范围，响应会返回状态码为206 Partial Content的响应报文

如果服务器端无法响应范围请求，则会返回状态码200 OK和完整的实体内容。